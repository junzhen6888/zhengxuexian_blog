---
title: 可复用测试用例
description: 可复用测试用例
sidebar_position: 3
last_update:
  author: 郑学贤
---
# 可复用测试用例

有效的可复用测试用例技术
 
在软件测试过程中，一个成熟的团队一般都有自己的公共测试用例库。公共测试用例库即可复用的测试用例库。今天我们就讨论一下如何开发有效的可复用测试用例，并学会如何使用和管理。

## 一. 可复用测试用例的开发

测试用例是为了验证最小功能点的一组输入、输出及操作序列的集合。可复用测试用例是指“为了复用目的而设计的测试用例”。复用的意义在于通过可复用测试用例验证功能相同或相近的模块，加快测试用例的设计进度、减少测试人员的负担；也可以帮助产品在设计类似功能时的需求细节补充；还可以与开发人员达成协议，后期在开发类似功能的时候，可以事先有一个既有的标准，提高开发效率和代码质量；

### 1. 可复用维度分析
 
为高效使用可复用测试用例，测试用例的复用性可从三个维度分析：

![](@site/static/img/test_img/2023-04-18-14-19-22.png)

1)时间角度：使用以前软件版本的测试用例作为新版本测试用例的基础，可作为软件维护和回归测试时复用。

2）通用角度：以某平台或硬件为基础的软件，测试其平台特性的测试用例可以复用。如测试B/S结构网络应用产品，针对该网络结构数据传输安全的测试用例基本都可以复用。

3）应用角度：以某特定领域模型为基础构建的测试用例，在同一领域不同应用系统中的测试过程中可以复用。

### 2. 可复用测试用例的质量特性
为构建高质量的可复用测试用例，需要规定可复用测试用例的本质特征，即对其质量特性进行分析。本文基于ISO9126质量模型和ISO9241标准，并对大量测试用例复用的应用情况进行了分析，认为可复用测试用例的质量模型如图1所示。

![](@site/static/img/test_img/2023-04-18-14-20-01.png)

1)可用性：指可复用测试用例能够有效发现软件缺陷，且易于理解，方便人们的使用，从用户角度反映了可复用测试用例的质量。

2)独立性：可复用测试用例是独立的，且较好的封装了测试步骤和测试数据。即对于测试需求R1和R2,测试用例集分别为C1和C2, C1和C2的交集为空。

3)可维护性：可复用测试用例不局限于具体的应用，不过分依赖被测软件的需求、设计和环境，能够不经修改或稍加修改即可在某一领域或相似领域进行广泛应用。

### 3. 软件测试用例的复用

　　软件测试复用可以理解为在两次或多次不同的软件测试过程中重复使用相同或相近的测试资源来组织测试的过程。软件测试的复用主要包括测试流程的复用、测试方法的复用和测试用例的复用。其中测试用例的复用是测试复用中的关键技术。所谓测试用例复用是指对一个软件已执行的测试用例，将其不同程度地应用于该软件新阶段的测试中或其他软件的测试中。可复用的测试用例具有通用性、独立性、有效性、标准化和完整性的特点。

1. 通用性。通用性是指可复用测试用例并不局限于具体的应用，不过分依赖于被测软件的需求、设计和环境，能够在某一类型、某一领域的相似软件的测试中广泛使用。
当前绝大多数的测试用例都不具有通用性，这样的测试用例只能用于被测软件和其当前环境，不可能用到其他软件中。

2. 有效性。测试用例的目标是发现软件问题，因此，可复用测试用例也必须是能够发现软件问题的，并且是可靠和高效的。

3. 独立性。可复用测试用例的独立性是指，对于测试需求R1和R2，测试用例集分别为cl和C2，c1和c2的交集为空，并且，每个可复用测试用例能够独立运行。测试用例是否具有独立性，决定了测试用例可复用能力的强弱。

如果测试用例之间存在着相互联系，或测试用例的运行环境取决于其他测试用例的执行状态，那么，其中的测试用例不能复用时，与之相关的测试用例的可复用性也不复存在。

如何将测试用例的关联性降至最低，是设计可复用测试用例必须解决的问题。首先，每个测试用例的目标应尽量独立、单一;其次，测试用例不包含过多的具体实现细节。

4. 标准化。测试用例通常用自然语言来描述，充分体现了测试人员的创造性和个人风格。但对于可复用测试用例，太多的个人风格不利于其他测试人员对测试用例的理解，必然影响其复用。因此可复用测试用例的标准化程度也反映了其易理解和可复用的能力。为此可复用测试用例应遵循统一或规范的格式或结构，规范的命名规则，使用术语、用简明、易懂、无歧义的语言来描述，并且具有详细的文档。

5. 完整性。每个可复用测试用例应包括全部应有的要素，不能有缺失，并且每个要素的描述是充分的。文献规定了测试用例应包括的要素，但对于可复用测试用例而言是不够的，应加以补充。

## 二. 可复用测试用例的设计

测试用例能否成功被复用很大程度上取决于测试用例的独立性，即能否独立地应用于不同的应用场合和应用环境。在实际应用当中，很多测试用例之间存在着相互的关联。有的测试用例的运行环境要取决于另外测试用例的执行状态，当它所依赖的环境变化或失效时，而与之相关联的其他测试用例的复用属性也可能随之消失。那么如何设计不依靠软件运行环境具有较高独立性、与其他测试用例减少关联且具有统一输入输出接口的可复用的测试用例就成为问题的关键所在。

测试用例是面向不同应用对象的，与被测试软件具有很高的耦合性。为了使得设计的测试用例能够实现成功复用，在测试用例的设计上采取如下步骤。

### 1. 共性分析

首先应该对被测软件进行共性分析，同一应用领域的软件有相似的需求，分析其诸如工作流程或功能相同等共同特点，并根据他们的共性挖掘可复用因素。

### 2. 测试用例统一建模

根据可复用因素，设计合适的测试策略，对测试用例的设计做出统一的建模组织，设计统一的结构和输入输出接口。

### 3. 设计可复用的测试用例

为了尽可能地降低测试用例与被侧软件的相关性，在设计测试用例时应该尽量对其进行通用化处理，同时应保持测试用例的功能单一性。测试用例和被测软件的高耦合性决定了测试用例的复用大多只在同一软件的回归测试或版本升级测试中成功实现，而很难在不同应用领域的软件测试中使用。

### 4. 测试用例的测评

设计好测试用例之后，组织测试人员和评审专家根据功能需求将测试用例应用于被测软件的测试中，确保测试用例的正确性。改变软件运行环境或测试数据后是否能得出合理的测试结果，分析异常和边界情况的测试结果。

### 5. 完善测试用例

根据测试结果分析测试用例是否覆盖并测试了全部的共性需求，进一步完善或纠正测试用例。

### 6. 测试用例入库

将通过测评和完善后的可复用测试用例根据其属性和功能分门别类并按照一定的组织结构放入测试用例数据库中。

## 三. 可复用测试用例的使用

![](@site/static/img/test_img/2023-04-18-14-21-00.png)

可复用测试用例的使用流程

1. 测试用例的匹配：软件测试工程师在开展测试工作时，首先对被测软件的业务逻辑、测试环境、测试需求、测试类型进行分析，然后提取被测项的各功能点，形成被测项目的分析清单，并一一与可复用测试用例库中的已有测试用例项进行检索匹配。

2. 测试用例复用：如果在库中检索到与待测项相同或相近的测试用例，则测试工程师提取已有测试用例，并进一步将该测试用例具体化，使之成为针对该项目的具体测试用例。

3. 生成可复用测试用例并入库：如果在库中没有检索到与被测项相同或相近的测试用例，则测试工程师设计新测试用例，并按照可复用测试用例的质量特性和设计准则进行抽象和泛化，生成新的可复用测试用例。在项目结束时，统一提交评审并入库，为以后的测试用例复用做好准备。

## 四.  可复用测试用例的管理

对独立的测试团队来说，要实现测试用例的高效复用，须精心设计、选择、收集大量的测试用例，并对其进行良好地组织和管理。在组织测试用例时，按照该测试用例所属的业务领域、项目等进行多级合理的分类、组织、存储。不同层次的测试用例，实现不同程度的复用。

为避免库中测试用例繁杂不易使用的情况，应对测试用例库进行有效管理，使得库中的用例具有典型性、代表性。对测试用例库的管理包含如下方面：

1.提取抽象测试用例。提取是指在具体项目系统测试完成后，测试团队选取其中能覆盖系统业务规则、设计完善、有代表性的测试用例，并按照可复用测试用例的质量特性、设计原则等对具体测试用例进行抽象的活动。

2.阶段审查。每月或每季度对可复用测试用例库的维护工作，包括相同或相似测试用例的合并、冗余测试用例的剔除、测试用例库结构的调整等活动。
在上述管理活动都包含测试用例的评审工作，评审团队在评审时，需要对可复用测试用例的正确性、复用特性、设计原则的依从性进行评审，评审通过后才可入库。

## 五. 可复用测试用例的优点和难点

通过大量的工程实践，不难发现测试用例的复用具有以下优点和难点。其优点如下:

- 提高软件测试的效率；

- 缩短软件测试的周期；

- 提高软件测试的可靠性；

- 降低软件测试的费 用；

- 部分解决测试人员的经验欠缺。

但是要真正实现测试用例复用的困难也是不可忽视的， 若不能较好地解决以下问题，必将使得软件测试工作事倍功半。其难点如下:

- 测试用例数据 库的维护问题；

- 测试用例划分的标准；

- 测试用例的版本管理问题；

- 被测软件之间的差异；

- 管理因素、环境因素、人的因素和教育因素等。
