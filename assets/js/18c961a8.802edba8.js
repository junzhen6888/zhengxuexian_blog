"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7684],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>d});var n=r(67294);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,s=e.mdxType,o=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=l(r),d=s,k=m["".concat(c,".").concat(d)]||m[d]||p[d]||o;return r?n.createElement(k,a(a({ref:t},u),{},{components:r})):n.createElement(k,a({ref:t},u))}));function d(e,t){var r=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var o=r.length,a=new Array(o);a[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:s,a[1]=i;for(var l=2;l<o;l++)a[l]=r[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},95782:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var n=r(87462),s=(r(67294),r(3905));const o={},a="ClickHouse Exporter",i={unversionedId:"prometheus/Exporter/3.8-clickhouse-exporter",id:"prometheus/Exporter/3.8-clickhouse-exporter",title:"ClickHouse Exporter",description:"ClickHouse\u662f\u4e00\u4e2a\u7528\u4e8e\u8054\u673a\u5206\u6790(OLAP)\u7684\u5217\u5f0f\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf(DBMS)\u3002 \u5b98\u65b9\u6587\u6863\uff1a https://clickhouse.tech/docs/en/ \uff0c\u5efa\u8bae\u67e5\u770b\u82f1\u6587\u6587\u6863\uff0c\u4e2d\u6587\u6587\u6863\u7531\u4e8e\u673a\u5668\u7ffb\u8bd1\u7684\u95ee\u9898\uff0c\u903b\u8f91\u6df7\u4e71\uff0c\u6ca1\u6cd5\u4f7f\u7528\u3002",source:"@site/wiki/ops/prometheus/03-Exporter/3.8-clickhouse-exporter.md",sourceDirName:"prometheus/03-Exporter",slug:"/prometheus/Exporter/3.8-clickhouse-exporter",permalink:"/zhengxuexian_blog/ops/prometheus/Exporter/3.8-clickhouse-exporter",draft:!1,tags:[],version:"current",lastUpdatedBy:"zhengxuexian",lastUpdatedAt:1661407442,formattedLastUpdatedAt:"2022\u5e748\u670825\u65e5",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"SNMP Exporter",permalink:"/zhengxuexian_blog/ops/prometheus/Exporter/3.7-snmp-exporter"},next:{title:"Kubernetes \u76d1\u63a7\u6570\u636e\u91c7\u96c6",permalink:"/zhengxuexian_blog/ops/prometheus/Exporter/3.9-kube-state-metrics"}},c={},l=[{value:"system.metrics",id:"systemmetrics",level:2},{value:"system.events",id:"systemevents",level:2},{value:"system.asynchronous_metrics",id:"systemasynchronous_metrics",level:2}],u={toc:l};function p(e){let{components:t,...r}=e;return(0,s.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"clickhouse-exporter"},"ClickHouse Exporter"),(0,s.kt)("p",null,"ClickHouse\u662f\u4e00\u4e2a\u7528\u4e8e\u8054\u673a\u5206\u6790(OLAP)\u7684\u5217\u5f0f\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf(DBMS)\u3002 \u5b98\u65b9\u6587\u6863\uff1a ",(0,s.kt)("a",{parentName:"p",href:"https://clickhouse.tech/docs/en/"},"https://clickhouse.tech/docs/en/")," \uff0c\u5efa\u8bae\u67e5\u770b\u82f1\u6587\u6587\u6863\uff0c\u4e2d\u6587\u6587\u6863\u7531\u4e8e\u673a\u5668\u7ffb\u8bd1\u7684\u95ee\u9898\uff0c\u903b\u8f91\u6df7\u4e71\uff0c\u6ca1\u6cd5\u4f7f\u7528\u3002"),(0,s.kt)("p",null,"ClickHouse \u53ef\u4ee5\u81ea\u8eab\u63d0\u4f9b Metric \u6570\u636e\u4f9b Prometheus \u6765\u8fdb\u884c\u83b7\u53d6"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"endpoint \u2013 HTTP endpoint for scraping metrics by prometheus server. Start from \u2018/\u2019."),(0,s.kt)("li",{parentName:"ul"},"port \u2013 Port for endpoint."),(0,s.kt)("li",{parentName:"ul"},"metrics \u2013 Flag that sets to expose metrics from the system.metrics table."),(0,s.kt)("li",{parentName:"ul"},"events \u2013 Flag that sets to expose metrics from the system.events table."),(0,s.kt)("li",{parentName:"ul"},"asynchronous_metrics \u2013 Flag that sets to expose current metrics values from the system.asynchronous_metrics table.")),(0,s.kt)("p",null,"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6/etc/clickhouse-server/config.xml \uff0c\u4f7f\u7528\u5982\u4e0b\u53c2\u6570\u6253\u5f00 ClickHouse \u7684\u76d1\u63a7\u3002\u8bb0\u5f97\u8981\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\u4f7f\u7684\u914d\u7f6e\u6587\u4ef6\u751f\u6548\u3002"),(0,s.kt)("p",null,"\u793a\u4f8b\u5982\u4e0b\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"<prometheus>\n        <endpoint>/metrics</endpoint>\n        <port>8001</port>\n        <metrics>true</metrics>\n        <events>true</events>\n        <asynchronous_metrics>true</asynchronous_metrics>\n    </prometheus>\n")),(0,s.kt)("p",null,"\u8bbe\u7f6e\u597d\u4ee5\u540e\u53ef\u4ee5\u8bbf\u95ee\u6765\u786e\u8ba4\u6570\u636e\u5df2\u7ecf\u6b63\u5e38\u63d0\u53d6\u3002"),(0,s.kt)("p",null,"curl localhost:8001/metrics "),(0,s.kt)("p",null,"\u5173\u4e8e\u76d1\u63a7\u6570\u636e\u7684\u5c55\u793a\u548c\u76d1\u63a7\u9879\u7684\u9009\u62e9\u53ef\u4ee5\u53c2\u8003 10.8 \u8282\uff0cClickHouse \u76d1\u63a7 \u6587\u7ae0\u3002"),(0,s.kt)("h1",{id:"exporter"},"Exporter"),(0,s.kt)("p",null,"\u5b98\u65b9\u7ef4\u62a4\u4e86\u4e00\u4e2a Exporter \uff0c\u6709\u65f6\u95f4\u53ef\u4ee5\u6d4b\u8bd5\u4e00\u4e0b\u3002"),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://github.com/ClickHouse/clickhouse_exporter"},"https://github.com/ClickHouse/clickhouse_exporter"),"  \u8fd9\u4e2a\u770b\u4e0a\u53bb\u662f\u5b98\u65b9\u5728\u7ef4\u62a4\u7684 \u3002"),(0,s.kt)("p",null,"\u8fd9\u4e2a\u7ec4\u4ef6\u5b98\u65b9\u5e76\u6ca1\u6709\u63d0\u4f9b\u5df2\u7ecf\u6784\u5efa\u597d\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5982\u679c\u8981\u4f7f\u7528\u7684\u8bdd\uff0c\u9700\u8981\u4e0b\u8f7d\u4ee3\u7801\uff0c\u642d\u5efa Golang \u8bed\u8a00\u73af\u5883\uff0c\u81ea\u5df1\u8fdb\u884c\u7f16\u8bd1\u3002"),(0,s.kt)("p",null,"\u6216\u8005\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6784\u5efa\u6210 Docker image \uff0cDockerfile \u91cc\u8fb9\u5305\u542b\u4e86 Golang \u7684\u6784\u5efa\u73af\u5883\uff0c\u5e76\u4e14\u4f7f\u7528 Docker \u7684\u591a\u9636\u6bb5\u6784\u5efa\uff0c\u6700\u7ec8\u7684\u662f\u4e00\u4e2a\u57fa\u4e8e frolvlad/alpine-glibc:alpine-3.13 \u7684\u8fd0\u884c\u73af\u5883\u3002"),(0,s.kt)("p",null,"\u6784\u5efa\u547d\u4ee4\uff1a"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"docker build . -t clickhouse-exporter\n")),(0,s.kt)("p",null,"\u6784\u5efa\u597d\u4ee5\u540e\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u8fd0\u884c\uff0c"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"docker run -d -p 9116:9116 clickhouse-exporter -scrape_uri=http://clickhouse-url:8123/\n")),(0,s.kt)("p",null,"\u5982\u679c ClickHouse \u6709\u8ba4\u8bc1\u76f8\u5173\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,s.kt)("inlineCode",{parentName:"p"},"CLICKHOUSE_USER")," \u548c ",(0,s.kt)("inlineCode",{parentName:"p"},"CLICKHOUSE_PASSWORD")," \u901a\u8fc7\u73af\u5883\u53d8\u91cf\u7684\u65b9\u5f0f\u4f20\u9012\u7ed9 clickhouse-exporter \u3002"),(0,s.kt)("p",null,"\u7efc\u5408\u770b\u4e0b\u6765\uff0c\u611f\u89c9\u8fd9\u4e2a\u7ec4\u4ef6\u6709\u4e9b\u4ed3\u4fc3\uff0c\u4f7f\u7528 ClickHouse \u914d\u7f6e\u6587\u4ef6\u63d0\u4f9b\u7684\u76d1\u63a7\u6307\u6807\u4e5f\u4e0d\u9519\uff0c"),(0,s.kt)("h1",{id:"grafana-\u4f5c\u4e3a\u76d1\u63a7\u91c7\u96c6"},"Grafana \u4f5c\u4e3a\u76d1\u63a7\u91c7\u96c6"),(0,s.kt)("p",null,"\u5bf9\u4e8e Grafana \uff0c\u53ef\u4ee5\u9009\u62e9 \u6570\u636e\u6e90\u4e3a ClickHouse \uff0c\u4ece Clickhouse \u6570\u636e\u5e93\u4e2d\u76f4\u63a5\u67e5\u8be2\u76d1\u63a7\u6570\u636e\uff0c\u7528\u6765\u76d1\u63a7\u3002\u67e5\u8be2\u5176\u4ed6\u6570\u636e\u7528\u6765\u5c55\u793a\u5176\u4ed6\u529f\u80fd\u3002"),(0,s.kt)("p",null,"\u76d1\u63a7\u6570\u636e Metrics \u6307\u6807\u4f4d\u4e8e ClickHouse \u7684  system.metrics, system.events, and system.asynchronous_metrics \u8fd9\u4e09\u5f20\u8868"),(0,s.kt)("h2",{id:"systemmetrics"},"system.metrics"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"SELECT * FROM system.metrics LIMIT 10\n\n\n")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"\u250c\u2500metric\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500value\u2500\u252c\u2500description\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Query                      \u2502     1 \u2502 Number of executing queries                                                                                                                                                                      \u2502\n\u2502 Merge                      \u2502     0 \u2502 Number of executing background merges                                                                                                                                                            \u2502\n\u2502 PartMutation               \u2502     0 \u2502 Number of mutations (ALTER DELETE/UPDATE)                                                                                                                                                        \u2502\n\u2502 ReplicatedFetch            \u2502     0 \u2502 Number of data parts being fetched from replicas                                                                                                                                                \u2502\n\u2502 ReplicatedSend             \u2502     0 \u2502 Number of data parts being sent to replicas                                                                                                                                                      \u2502\n\u2502 ReplicatedChecks           \u2502     0 \u2502 Number of data parts checking for consistency                                                                                                                                                    \u2502\n\u2502 BackgroundPoolTask         \u2502     0 \u2502 Number of active tasks in BackgroundProcessingPool (merges, mutations, fetches, or replication queue bookkeeping)                                                                                \u2502\n\u2502 BackgroundSchedulePoolTask \u2502     0 \u2502 Number of active tasks in BackgroundSchedulePool. This pool is used for periodic ReplicatedMergeTree tasks, like cleaning old data parts, altering data parts, replica re-initialization, etc.   \u2502\n\u2502 DiskSpaceReservedForMerge  \u2502     0 \u2502 Disk space reserved for currently running background merges. It is slightly more than the total size of currently merging parts.                                                                     \u2502\n\u2502 DistributedSend            \u2502     0 \u2502 Number of connections to remote servers sending data that was INSERTed into Distributed tables. Both synchronous and asynchronous mode.                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,s.kt)("h2",{id:"systemevents"},"system.events"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"SELECT * FROM system.events LIMIT 5\n\n\n")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"\u250c\u2500event\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500value\u2500\u252c\u2500description\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Query                                 \u2502    12 \u2502 Number of queries to be interpreted and potentially executed. Does not include queries that failed to parse or were rejected due to AST size limits, quota limits or limits on the number of simultaneously running queries. May include internal queries initiated by ClickHouse itself. Does not count subqueries.                  \u2502\n\u2502 SelectQuery                           \u2502     8 \u2502 Same as Query, but only for SELECT queries.                                                                                                                                                                                                                \u2502\n\u2502 FileOpen                              \u2502    73 \u2502 Number of files opened.                                                                                                                                                                                                                                    \u2502\n\u2502 ReadBufferFromFileDescriptorRead      \u2502   155 \u2502 Number of reads (read/pread) from a file descriptor. Does not include sockets.                                                                                                                                                                             \u2502\n\u2502 ReadBufferFromFileDescriptorReadBytes \u2502  9931 \u2502 Number of bytes read from file descriptors. If the file is compressed, this will show the compressed data size.                                                                                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,s.kt)("h2",{id:"systemasynchronous_metrics"},"system.asynchronous_metrics"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"SELECT * FROM system.asynchronous_metrics LIMIT 10\n")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"\u250c\u2500metric\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500value\u2500\u2510\n\u2502 jemalloc.background_thread.run_interval \u2502          0 \u2502\n\u2502 jemalloc.background_thread.num_runs     \u2502          0 \u2502\n\u2502 jemalloc.background_thread.num_threads  \u2502          0 \u2502\n\u2502 jemalloc.retained                       \u2502  422551552 \u2502\n\u2502 jemalloc.mapped                         \u2502 1682989056 \u2502\n\u2502 jemalloc.resident                       \u2502 1656446976 \u2502\n\u2502 jemalloc.metadata_thp                   \u2502          0 \u2502\n\u2502 jemalloc.metadata                       \u2502   10226856 \u2502\n\u2502 UncompressedCacheCells                  \u2502          0 \u2502\n\u2502 MarkCacheFiles                          \u2502          0 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,s.kt)("h1",{id:"\u53c2\u8003\u94fe\u63a5"},"\u53c2\u8003\u94fe\u63a5\uff1a"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/"},"https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://clickhouse.tech/docs/en/interfaces/third-party/integrations/#infrastructure-products"},"https://clickhouse.tech/docs/en/interfaces/third-party/integrations/#infrastructure-products")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://clickhouse.tech/docs/en/operations/system-tables/metrics/#system_tables-metrics"},"https://clickhouse.tech/docs/en/operations/system-tables/metrics/#system_tables-metrics")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://clickhouse.tech/docs/en/operations/system-tables/events/#system_tables-events"},"https://clickhouse.tech/docs/en/operations/system-tables/events/#system_tables-events"))))}p.isMDXComponent=!0}}]);