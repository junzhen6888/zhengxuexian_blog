"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3754],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>u});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},p=Object.keys(e);for(n=0;n<p.length;n++)r=p[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(n=0;n<p.length;n++)r=p[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var m=n.createContext({}),d=function(e){var t=n.useContext(m),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},l=function(e){var t=d(e.components);return n.createElement(m.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,p=e.originalType,m=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),c=d(r),u=a,b=c["".concat(m,".").concat(u)]||c[u]||s[u]||p;return r?n.createElement(b,o(o({ref:t},l),{},{components:r})):n.createElement(b,o({ref:t},l))}));function u(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var p=r.length,o=new Array(p);o[0]=c;var i={};for(var m in t)hasOwnProperty.call(t,m)&&(i[m]=t[m]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var d=2;d<p;d++)o[d]=r[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"},27915:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>m,contentTitle:()=>o,default:()=>s,frontMatter:()=>p,metadata:()=>i,toc:()=>d});var n=r(87462),a=(r(67294),r(3905));const p={title:"linux\u5e38\u7528\u547d\u4ee4\u516d",description:"Linux\u5e38\u7528\u547d\u4ee4\u516d",sidebar_position:6,last_update:{author:"\u90d1\u5b66\u8d24"}},o="linux\u5e38\u7528\u547d\u4ee4\u516d",i={unversionedId:"Linux/linux\u5e38\u7528\u547d\u4ee4\u516d",id:"Linux/linux\u5e38\u7528\u547d\u4ee4\u516d",title:"linux\u5e38\u7528\u547d\u4ee4\u516d",description:"Linux\u5e38\u7528\u547d\u4ee4\u516d",source:"@site/wiki\\ops\\Linux\\6.linux\u5e38\u7528\u547d\u4ee4\u516d.md",sourceDirName:"Linux",slug:"/Linux/linux\u5e38\u7528\u547d\u4ee4\u516d",permalink:"/zhengxuexian_blog/ops/Linux/linux\u5e38\u7528\u547d\u4ee4\u516d",draft:!1,tags:[],version:"current",lastUpdatedBy:"\u90d1\u5b66\u8d24",lastUpdatedAt:1660268203,formattedLastUpdatedAt:"2022\u5e748\u670812\u65e5",sidebarPosition:6,frontMatter:{title:"linux\u5e38\u7528\u547d\u4ee4\u516d",description:"Linux\u5e38\u7528\u547d\u4ee4\u516d",sidebar_position:6,last_update:{author:"\u90d1\u5b66\u8d24"}},sidebar:"tutorialSidebar",previous:{title:"linux\u5e38\u7528\u547d\u4ee4\u4e94",permalink:"/zhengxuexian_blog/ops/Linux/linux\u5e38\u7528\u547d\u4ee4\u4e94"},next:{title:"\u5e38\u7528\u547d\u4ee4",permalink:"/zhengxuexian_blog/ops/Linux/\u5e38\u7528\u547d\u4ee4"}},m={},d=[{value:"SWAP\u6587\u4ef6\u7cfb\u7edf",id:"swap\u6587\u4ef6\u7cfb\u7edf",level:2},{value:"\u5907\u4efd",id:"\u5907\u4efd",level:2},{value:"\u5149\u76d8",id:"\u5149\u76d8",level:2},{value:"\u7f51\u7edc - \uff08\u4ee5\u592a\u7f51\u548cWIFI\u65e0\u7ebf\uff09",id:"\u7f51\u7edc---\u4ee5\u592a\u7f51\u548cwifi\u65e0\u7ebf",level:2}],l={toc:d};function s(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"linux\u5e38\u7528\u547d\u4ee4\u516d"},"linux\u5e38\u7528\u547d\u4ee4\u516d"),(0,a.kt)("h2",{id:"swap\u6587\u4ef6\u7cfb\u7edf"},"SWAP\u6587\u4ef6\u7cfb\u7edf"),(0,a.kt)("p",null,"mkswap /dev/hda3             #\u521b\u5efa\u4e00\u4e2aswap\u6587\u4ef6\u7cfb\u7edf",(0,a.kt)("br",{parentName:"p"}),"\n","swapon /dev/hda3             #\u542f\u7528\u4e00\u4e2a\u65b0\u7684swap\u6587\u4ef6\u7cfb\u7edf",(0,a.kt)("br",{parentName:"p"}),"\n","swapon /dev/hda2 /dev/hdb3   #\u542f\u7528\u4e24\u4e2aswap\u5206\u533a  "),(0,a.kt)("h2",{id:"\u5907\u4efd"},"\u5907\u4efd"),(0,a.kt)("p",null,"dump -0aj -f /tmp/home0.bak /home    #\u5236\u4f5c\u4e00\u4e2a '/home' \u76ee\u5f55\u7684\u5b8c\u6574\u5907\u4efd",(0,a.kt)("br",{parentName:"p"}),"\n","dump -1aj -f /tmp/home0.bak /home    #\u5236\u4f5c\u4e00\u4e2a '/home' \u76ee\u5f55\u7684\u4ea4\u4e92\u5f0f\u5907\u4efd",(0,a.kt)("br",{parentName:"p"}),"\n","restore -if /tmp/home0.bak          #\u8fd8\u539f\u4e00\u4e2a\u4ea4\u4e92\u5f0f\u5907\u4efd  "),(0,a.kt)("p",null,"rsync -rogpav --delete /home /tmp    #\u540c\u6b65\u4e24\u8fb9\u7684\u76ee\u5f55",(0,a.kt)("br",{parentName:"p"}),"\n","rsync -rogpav -e ssh --delete /home ip_address:/tmp           #\u901a\u8fc7SSH\u901a\u9053rsync",(0,a.kt)("br",{parentName:"p"}),"\n","rsync -az -e ssh --delete ip_addr:/home/public /home/local    #\u901a\u8fc7ssh\u548c\u538b\u7f29\u5c06\u4e00\u4e2a\u8fdc\u7a0b\u76ee\u5f55\u540c\u6b65\u5230\u672c\u5730\u76ee\u5f55",(0,a.kt)("br",{parentName:"p"}),"\n","rsync -az -e ssh --delete /home/local ip_addr:/home/public    #\u901a\u8fc7ssh\u548c\u538b\u7f29\u5c06\u672c\u5730\u76ee\u5f55\u540c\u6b65\u5230\u8fdc\u7a0b\u76ee\u5f55  "),(0,a.kt)("p",null,"dd bs=1M if=/dev/hda | gzip | ssh user@ip_addr 'dd of=hda.gz'",(0,a.kt)("br",{parentName:"p"}),"\n","#\u901a\u8fc7ssh\u5728\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u6267\u884c\u4e00\u6b21\u5907\u4efd\u672c\u5730\u78c1\u76d8\u7684\u64cd\u4f5c",(0,a.kt)("br",{parentName:"p"}),"\n","dd if=/dev/sda of=/tmp/file1",(0,a.kt)("br",{parentName:"p"}),"\n","#\u5907\u4efd\u78c1\u76d8\u5185\u5bb9\u5230\u4e00\u4e2a\u6587\u4ef6",(0,a.kt)("br",{parentName:"p"}),"\n","tar -Puf backup.tar /home/user \u6267\u884c\u4e00\u6b21\u5bf9 '/home/user'",(0,a.kt)("br",{parentName:"p"}),"\n","#\u76ee\u5f55\u7684\u4ea4\u4e92\u5f0f\u5907\u4efd\u64cd\u4f5c",(0,a.kt)("br",{parentName:"p"}),"\n","( cd /tmp/local/ && tar c . ) | ssh -C user@ip_addr 'cd /home/share/ && tar x -p'",(0,a.kt)("br",{parentName:"p"}),"\n","#\u901a\u8fc7ssh\u5728\u8fdc\u7a0b\u76ee\u5f55\u4e2d\u590d\u5236\u4e00\u4e2a\u76ee\u5f55\u5185\u5bb9",(0,a.kt)("br",{parentName:"p"}),"\n","( tar c /home ) | ssh -C user@ip_addr 'cd /home/backup-home && tar x -p'",(0,a.kt)("br",{parentName:"p"}),"\n","#\u901a\u8fc7ssh\u5728\u8fdc\u7a0b\u76ee\u5f55\u4e2d\u590d\u5236\u4e00\u4e2a\u672c\u5730\u76ee\u5f55",(0,a.kt)("br",{parentName:"p"}),"\n","tar cf - . | (cd /tmp/backup ; tar xf - )",(0,a.kt)("br",{parentName:"p"}),"\n","#\u672c\u5730\u5c06\u4e00\u4e2a\u76ee\u5f55\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u5730\u65b9\uff0c\u4fdd\u7559\u539f\u6709\u6743\u9650\u53ca\u94fe\u63a5  "),(0,a.kt)("p",null,"find /home/user1 -name '",(0,a.kt)("em",{parentName:"p"},".txt' | xargs cp -av --target-directory=/home/backup/ --parents",(0,a.kt)("br",{parentName:"em"}),"#\u4ece\u4e00\u4e2a\u76ee\u5f55\u67e5\u627e\u5e76\u590d\u5236\u6240\u6709\u4ee5 '.txt' \u7ed3\u5c3e\u7684\u6587\u4ef6\u5230\u53e6\u4e00\u4e2a\u76ee\u5f55",(0,a.kt)("br",{parentName:"em"}),"find /var/log -name '"),".log' | tar cv --files-from=- | bzip2 > log.tar.bz2",(0,a.kt)("br",{parentName:"p"}),"\n","#\u67e5\u627e\u6240\u6709\u4ee5 '.log' \u7ed3\u5c3e\u7684\u6587\u4ef6\u5e76\u505a\u6210\u4e00\u4e2abzip\u5305  "),(0,a.kt)("p",null,"dd if=/dev/hda of=/dev/fd0 bs=512 count=1",(0,a.kt)("br",{parentName:"p"}),"\n","#\u505a\u4e00\u4e2a\u5c06 MBR (Master Boot Record)\u5185\u5bb9\u590d\u5236\u5230\u8f6f\u76d8\u7684\u52a8\u4f5c",(0,a.kt)("br",{parentName:"p"}),"\n","dd if=/dev/fd0 of=/dev/hda bs=512 count=1",(0,a.kt)("br",{parentName:"p"}),"\n","#\u4ece\u5df2\u7ecf\u4fdd\u5b58\u5230\u8f6f\u76d8\u7684\u5907\u4efd\u4e2d\u6062\u590dMBR\u5185\u5bb9  "),(0,a.kt)("h2",{id:"\u5149\u76d8"},"\u5149\u76d8"),(0,a.kt)("p",null,"cdrecord -v gracetime=2 dev=/dev/cdrom -eject blank=fast -force",(0,a.kt)("br",{parentName:"p"}),"\n","#\u6e05\u7a7a\u4e00\u4e2a\u53ef\u590d\u5199\u7684\u5149\u76d8\u5185\u5bb9"),(0,a.kt)("p",null,"mkisofs /dev/cdrom > cd.iso             #\u5728\u78c1\u76d8\u4e0a\u521b\u5efa\u4e00\u4e2a\u5149\u76d8\u7684iso\u955c\u50cf\u6587\u4ef6",(0,a.kt)("br",{parentName:"p"}),"\n","mkisofs /dev/cdrom | gzip > cd_iso.gz    #\u5728\u78c1\u76d8\u4e0a\u521b\u5efa\u4e00\u4e2a\u538b\u7f29\u4e86\u7684\u5149\u76d8iso\u955c\u50cf\u6587\u4ef6",(0,a.kt)("br",{parentName:"p"}),"\n",'mkisofs -J -allow-leading-dots -R -V "Label CD" -iso-level 4 -o ./cd.iso data_cd',(0,a.kt)("br",{parentName:"p"}),"\n","#\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\u7684iso\u955c\u50cf\u6587\u4ef6",(0,a.kt)("br",{parentName:"p"}),"\n","cdrecord -v dev=/dev/cdrom cd.iso               #\u523b\u5f55\u4e00\u4e2aISO\u955c\u50cf\u6587\u4ef6",(0,a.kt)("br",{parentName:"p"}),"\n","gzip -dc cd_iso.gz | cdrecord dev=/dev/cdrom -  #\u523b\u5f55\u4e00\u4e2a\u538b\u7f29\u4e86\u7684ISO\u955c\u50cf\u6587\u4ef6",(0,a.kt)("br",{parentName:"p"}),"\n","mount -o loop cd.iso /mnt/iso                  #\u6302\u8f7d\u4e00\u4e2aISO\u955c\u50cf\u6587\u4ef6  "),(0,a.kt)("p",null,"cd-paranoia -B             #\u4ece\u4e00\u4e2aCD\u5149\u76d8\u8f6c\u5f55\u97f3\u8f68\u5230 wav \u6587\u4ef6\u4e2d",(0,a.kt)("br",{parentName:"p"}),"\n",'cd-paranoia -- "-3"        #\u4ece\u4e00\u4e2aCD\u5149\u76d8\u8f6c\u5f55\u97f3\u8f68\u5230 wav \u6587\u4ef6\u4e2d\uff08\u53c2\u6570-3\uff09',(0,a.kt)("br",{parentName:"p"}),"\n","cdrecord --scanbus         #\u626b\u63cf\u603b\u7ebf\u4ee5\u8bc6\u522bscsi\u901a\u9053",(0,a.kt)("br",{parentName:"p"}),"\n","dd if=/dev/hdc | md5sum    #\u6821\u9a8c\u4e00\u4e2a\u8bbe\u5907\u7684md5sum\u7f16\u7801\uff0c\u4f8b\u5982\u4e00\u5f20 CD  "),(0,a.kt)("h2",{id:"\u7f51\u7edc---\u4ee5\u592a\u7f51\u548cwifi\u65e0\u7ebf"},"\u7f51\u7edc - \uff08\u4ee5\u592a\u7f51\u548cWIFI\u65e0\u7ebf\uff09"),(0,a.kt)("p",null,"ifconfig eth0    #\u663e\u793a\u4e00\u4e2a\u4ee5\u592a\u7f51\u5361\u7684\u914d\u7f6e",(0,a.kt)("br",{parentName:"p"}),"\n","ifup eth0        #\u542f\u7528\u4e00\u4e2a 'eth0' \u7f51\u7edc\u8bbe\u5907",(0,a.kt)("br",{parentName:"p"}),"\n","ifdown eth0      #\u7981\u7528\u4e00\u4e2a 'eth0' \u7f51\u7edc\u8bbe\u5907",(0,a.kt)("br",{parentName:"p"}),"\n","ifconfig eth0 192.168.1.1 netmask 255.255.255.0     #\u63a7\u5236IP\u5730\u5740",(0,a.kt)("br",{parentName:"p"}),"\n","ifconfig eth0 promisc     #\u8bbe\u7f6e 'eth0' \u6210\u6df7\u6742\u6a21\u5f0f\u4ee5\u55c5\u63a2\u6570\u636e\u5305 (sniffing)",(0,a.kt)("br",{parentName:"p"}),"\n","dhclient eth0            #\u4ee5dhcp\u6a21\u5f0f\u542f\u7528 'eth0'"),(0,a.kt)("p",null,"route -n    #\u67e5\u770b\u8def\u7531\u8868",(0,a.kt)("br",{parentName:"p"}),"\n","route add -net 0/0 gw IP_Gateway    #\u914d\u7f6e\u9ed8\u8ba4\u7f51\u5173",(0,a.kt)("br",{parentName:"p"}),"\n","route add -net 192.168.0.0 netmask 255.255.0.0 gw 192.168.1.1",(0,a.kt)("br",{parentName:"p"}),"\n","#\u914d\u7f6e\u9759\u6001\u8def\u7531\u5230\u8fbe\u7f51\u7edc'192.168.0.0/16'",(0,a.kt)("br",{parentName:"p"}),"\n","route del 0/0 gw IP_gateway        #\u5220\u9664\u9759\u6001\u8def\u7531  "),(0,a.kt)("p",null,"hostname #\u67e5\u770b\u673a\u5668\u540d",(0,a.kt)("br",{parentName:"p"}),"\n","host ",(0,a.kt)("a",{parentName:"p",href:"http://www.example.com"},"www.example.com"),"       #\u628a\u4e00\u4e2a\u4e3b\u673a\u540d\u89e3\u6790\u5230\u4e00\u4e2a\u7f51\u9645\u5730\u5740\u6216\u628a\u4e00\u4e2a\u7f51\u9645\u5730\u5740\u89e3\u6790\u5230\u4e00\u4e2a\u4e3b\u673a\u540d\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","nslookup ",(0,a.kt)("a",{parentName:"p",href:"http://www.example.com"},"www.example.com"),"   #\u7528\u4e8e\u67e5\u8be2DNS\u7684\u8bb0\u5f55\uff0c\u67e5\u770b\u57df\u540d\u89e3\u6790\u662f\u5426\u6b63\u5e38\uff0c\u5728\u7f51\u7edc\u6545\u969c\u7684\u65f6\u5019\u7528\u6765\u8bca\u65ad\u7f51\u7edc\u95ee\u9898\u3002",(0,a.kt)("br",{parentName:"p"}),"\n","ip link show            #\u67e5\u770b\u7f51\u5361\u4fe1\u606f",(0,a.kt)("br",{parentName:"p"}),"\n","mii-tool                #\u7528\u4e8e\u67e5\u770b\u3001\u7ba1\u7406\u4ecb\u8d28\u7684\u7f51\u7edc\u63a5\u53e3\u7684\u72b6\u6001",(0,a.kt)("br",{parentName:"p"}),"\n","ethtool                 #\u7528\u4e8e\u67e5\u8be2\u548c\u8bbe\u7f6e\u7f51\u5361\u914d\u7f6e",(0,a.kt)("br",{parentName:"p"}),"\n","netstat -tupl           #\u7528\u4e8e\u663e\u793aTCP/UDP\u7684\u72b6\u6001\u4fe1\u606f",(0,a.kt)("br",{parentName:"p"}),"\n","tcpdump tcp port 80     #\u663e\u793a\u6240\u6709http\u534f\u8bae\u7684\u6d41\u91cf"))}s.isMDXComponent=!0}}]);