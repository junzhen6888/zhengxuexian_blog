"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3204],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>_});var n=o(67294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var i=n.createContext({}),p=function(e){var t=n.useContext(i),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},c=function(e){var t=p(e.components);return n.createElement(i.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(o),_=r,d=m["".concat(i,".").concat(_)]||m[_]||u[_]||a;return o?n.createElement(d,l(l({ref:t},c),{},{components:o})):n.createElement(d,l({ref:t},c))}));function _(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,l=new Array(a);l[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var p=2;p<a;p++)l[p]=o[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,o)}m.displayName="MDXCreateElement"},81419:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var n=o(87462),r=(o(67294),o(3905));const a={},l="Prometheus \u8fd0\u7ef4\u5de5\u5177 Promtool \uff08\u4e00\uff09Check \u529f\u80fd",s={unversionedId:"prometheus/Troubleshoot/11.3-promtool-check",id:"prometheus/Troubleshoot/11.3-promtool-check",title:"Prometheus \u8fd0\u7ef4\u5de5\u5177 Promtool \uff08\u4e00\uff09Check \u529f\u80fd",description:"Promtool \u662f Prometheus \u63d0\u4f9b\u7684\u4e00\u4e2a\u8fd0\u7ef4\u5de5\u5177\uff0c\u7528\u6765\u5bf9 Prometheus \u8fdb\u884c\u68c0\u67e5\uff0c\u4e4b\u524d\u53ea\u6709\u6700\u7b80\u5355\u7684\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u548c\u89c4\u5219\u6587\u4ef6\u7684\u529f\u80fd\uff0c\u73b0\u5728\u5df2\u7ecf\u6709\u4e86\u66f4\u591a\u7684\u65b0\u529f\u80fd\uff0c\u5305\u62ec\u67e5\u8be2\u6307\u6807\u3001debug \u670d\u52a1\u3001\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u68c0\u67e5\u7b49\u7b49\u3002\u8fd9\u6b21\u6211\u4eec\u57fa\u4e8e 2.37.0 \u7248\u672c\u8fdb\u884c\u4e00\u6b21\u68b3\u7406\uff0c\u5982\u679c\u7248\u672c\u4f4e\u4e8e\u8fd9\u4e2a\u7248\u672c\uff0c\u5728\u4f7f\u7528\u524d\u8bf7\u786e\u8ba4\u8981\u7528\u5230\u7684\u529f\u80fd\u662f\u5426\u5df2\u7ecf\u6dfb\u52a0\uff0c\u5982\u679c\u662f\u7248\u672c\u6bd4 2.37.0 \u9ad8\uff0c\u8bf7\u68c0\u67e5\u76f8\u5173\u529f\u80fd\u662f\u5426\u6709\u66f4\u65b0\u3002",source:"@site/wiki/ops/prometheus/11-Troubleshoot/11.3-promtool-check.md",sourceDirName:"prometheus/11-Troubleshoot",slug:"/prometheus/Troubleshoot/11.3-promtool-check",permalink:"/zhengxuexian_blog/ops/prometheus/Troubleshoot/11.3-promtool-check",draft:!1,tags:[],version:"current",lastUpdatedBy:"zhengxuexian",lastUpdatedAt:1661407442,formattedLastUpdatedAt:"2022\u5e748\u670825\u65e5",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Prometheus \u6545\u969c\u6c47\u603b\uff08\u4e00\uff09",permalink:"/zhengxuexian_blog/ops/prometheus/Troubleshoot/11.2-prometheus-problem-sets-1"},next:{title:"Prometheus \u8fd0\u7ef4\u5de5\u5177 Promtool \uff08\u4e8c\uff09Query \u529f\u80fd",permalink:"/zhengxuexian_blog/ops/prometheus/Troubleshoot/11.4-promtool-query"}},i={},p=[{value:"\u68c0\u67e5\u670d\u52a1\u53d1\u73b0",id:"\u68c0\u67e5\u670d\u52a1\u53d1\u73b0",level:2},{value:"\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6",id:"\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6",level:2},{value:"\u68c0\u67e5 web-config",id:"\u68c0\u67e5-web-config",level:2},{value:"\u68c0\u67e5\u544a\u8b66\u89c4\u5219\u548c\u8bb0\u5f55\u89c4\u5219",id:"\u68c0\u67e5\u544a\u8b66\u89c4\u5219\u548c\u8bb0\u5f55\u89c4\u5219",level:2},{value:"\u68c0\u67e5\u6307\u6807",id:"\u68c0\u67e5\u6307\u6807",level:2}],c={toc:p};function u(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"prometheus-\u8fd0\u7ef4\u5de5\u5177-promtool-\u4e00check-\u529f\u80fd"},"Prometheus \u8fd0\u7ef4\u5de5\u5177 Promtool \uff08\u4e00\uff09Check \u529f\u80fd"),(0,r.kt)("p",null,"Promtool \u662f Prometheus \u63d0\u4f9b\u7684\u4e00\u4e2a\u8fd0\u7ef4\u5de5\u5177\uff0c\u7528\u6765\u5bf9 Prometheus \u8fdb\u884c\u68c0\u67e5\uff0c\u4e4b\u524d\u53ea\u6709\u6700\u7b80\u5355\u7684\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u548c\u89c4\u5219\u6587\u4ef6\u7684\u529f\u80fd\uff0c\u73b0\u5728\u5df2\u7ecf\u6709\u4e86\u66f4\u591a\u7684\u65b0\u529f\u80fd\uff0c\u5305\u62ec\u67e5\u8be2\u6307\u6807\u3001debug \u670d\u52a1\u3001\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u68c0\u67e5\u7b49\u7b49\u3002\u8fd9\u6b21\u6211\u4eec\u57fa\u4e8e 2.37.0 \u7248\u672c\u8fdb\u884c\u4e00\u6b21\u68b3\u7406\uff0c\u5982\u679c\u7248\u672c\u4f4e\u4e8e\u8fd9\u4e2a\u7248\u672c\uff0c\u5728\u4f7f\u7528\u524d\u8bf7\u786e\u8ba4\u8981\u7528\u5230\u7684\u529f\u80fd\u662f\u5426\u5df2\u7ecf\u6dfb\u52a0\uff0c\u5982\u679c\u662f\u7248\u672c\u6bd4 2.37.0 \u9ad8\uff0c\u8bf7\u68c0\u67e5\u76f8\u5173\u529f\u80fd\u662f\u5426\u6709\u66f4\u65b0\u3002"),(0,r.kt)("p",null,"\u67e5\u770b Promtool \u5de5\u5177\u7684\u5e2e\u52a9\u4fe1\u606f\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u4fe1\u606f\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\n[root@Erdong-Test ~]# ./promtool --help\nusage: promtool [<flags>] <command> [<args> ...]\n\nTooling for the Prometheus monitoring system.\n\nFlags:\n  -h, --help                 Show context-sensitive help (also try --help-long and\n                             --help-man).\n      --version              Show application version.\n      --enable-feature= ...  Comma separated feature names to enable (only PromQL\n                             related). See\n                             https://prometheus.io/docs/prometheus/latest/feature_flags/\n                             for the options and more details.\n\nCommands:\n  help [<command>...]\n    Show help.\n\n  check service-discovery [<flags>] <config-file> <job>\n    Perform service discovery for the given job name and report the results,\n    including relabeling.\n\n  check config [<flags>] <config-files>...\n    Check if the config files are valid or not.\n\n  check web-config <web-config-files>...\n    Check if the web config files are valid or not.\n\n  check rules [<flags>] <rule-files>...\n    Check if the rule files are valid or not.\n\n  check metrics\n    Pass Prometheus metrics over stdin to lint them for consistency and\n    correctness.\n\n    examples:\n\n    $ cat metrics.prom | promtool check metrics\n\n    $ curl -s http://localhost:9090/metrics | promtool check metrics\n\n  query instant [<flags>] <server> <expr>\n    Run instant query.\n\n  query range [<flags>] <server> <expr>\n    Run range query.\n\n  query series --match=MATCH [<flags>] <server>\n    Run series query.\n\n  query labels [<flags>] <server> <name>\n    Run labels query.\n\n  debug pprof <server>\n    Fetch profiling debug information.\n\n  debug metrics <server>\n    Fetch metrics debug information.\n\n  debug all <server>\n    Fetch all debug information.\n\n  test rules <test-rule-file>...\n    Unit tests for rules.\n\n  tsdb bench write [<flags>] [<file>]\n    Run a write performance benchmark.\n\n  tsdb analyze [<flags>] [<db path>] [<block id>]\n    Analyze churn, label pair cardinality and compaction efficiency.\n\n  tsdb list [<flags>] [<db path>]\n    List tsdb blocks.\n\n  tsdb dump [<flags>] [<db path>]\n    Dump samples from a TSDB.\n\n  tsdb create-blocks-from openmetrics <input file> [<output directory>]\n    Import samples from OpenMetrics input and produce TSDB blocks. Please refer to\n    the storage docs for more details.\n\n  tsdb create-blocks-from rules --start=START [<flags>] <rule-files>...\n    Create blocks of data for new recording rules.\n\n[root@Erdong-Test ~]#\n")),(0,r.kt)("h1",{id:"\u57fa\u672c\u4fe1\u606f"},"\u57fa\u672c\u4fe1\u606f"),(0,r.kt)("p",null,"\u8fd9\u4e2a\u5de5\u5177\u6709\u4e00\u4e9b\u57fa\u672c\u4fe1\u606f\u53ef\u4ee5\u4f7f\u7528\uff0c\u4e00\u4e9b\u53c2\u6570\u57fa\u672c\u662f\u901a\u7528\u7684\u3002"),(0,r.kt)("p",null,"\u9996\u5148 \u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"--help")," \u53ef\u4ee5\u770b\u5230\u5e2e\u52a9\u4fe1\u606f\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"--help-long")," \u53c2\u6570\u770b\u52a0\u957f\u7248\u7684\u5e2e\u52a9\u4fe1\u606f"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"--version")," \u53ef\u4ee5\u770b\u5230\u5de5\u5177\u7248\u672c\u4fe1\u606f\u3001\u6784\u5efa\u7684\u5206\u652f\u548c commit ID\u3001\u6784\u5efa\u65f6\u95f4\u3001Go \u7684\u7248\u672c\u3001\u8fd0\u884c\u5e73\u53f0\u8fd9\u4e9b\u4fe1\u606f\u3002 "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[root@Erdong-Test ~]# ./promtool --version\npromtool, version 2.37.0 (branch: HEAD, revision: b41e0750abf5cc18d8233161560731de05199330)\n  build user:       root@0ebb6827e27f\n  build date:       20220714-15:13:18\n  go version:       go1.18.4\n  platform:         linux/amd64\n")),(0,r.kt)("p",null,"\u4f7f\u7528 Promtool \u8fd8\u53ef\u4ee5\u6821\u9a8c\u4e00\u4e9b\u65b0\u7684\u7279\u6027\u7684\u529f\u80fd\uff0c\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"--enable-feature=")," \u53c2\u6570\u6765\u5f00\u542f\uff0c\u591a\u4e2a\u53c2\u6570\u4f7f\u7528\u9017\u53f7\u9694\u5f00\u3002\u76f8\u5173\u7684\u7279\u6027\u9700\u8981\u53c2\u8003 ",(0,r.kt)("a",{parentName:"p",href:"https://prometheus.io/docs/prometheus/latest/feature_flags/"},"https://prometheus.io/docs/prometheus/latest/feature_flags/")," \u94fe\u63a5\u3002"),(0,r.kt)("h1",{id:"\u4f7f\u7528-promtool-\u8fdb\u884c\u68c0\u67e5"},"\u4f7f\u7528 Promtool \u8fdb\u884c\u68c0\u67e5"),(0,r.kt)("h2",{id:"\u68c0\u67e5\u670d\u52a1\u53d1\u73b0"},"\u68c0\u67e5\u670d\u52a1\u53d1\u73b0"),(0,r.kt)("p",null,"\u4f7f\u7528 Promtool \u53ef\u4ee5\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u670d\u52a1\u53d1\u73b0\u914d\u7f6e\uff0c\u9632\u6b62\u914d\u7f6e\u9519\u8bef\u5bfc\u81f4\u7a0b\u5e8f\u65e0\u6cd5\u542f\u52a8\uff0c\u6216\u8005\u542f\u52a8\u540e\u65e0\u6cd5\u6b63\u5e38\u53d1\u73b0\u5185\u5bb9\u3002"),(0,r.kt)("p",null,"\u5177\u4f53\u547d\u4ee4\u53c2\u6570\u4e3a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"promtool check service-discovery [<flags>] <config-file> <job>\n")),(0,r.kt)("p",null,"\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9700\u8981\u6307\u5b9a Prometheus \u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u53ca\u8981\u68c0\u67e5\u7684\u670d\u52a1\u53d1\u73b0\u7684 job \u540d\u79f0\u3002Promtool \u5728\u68c0\u67e5\u8fc7\u540e\u4f1a\u8fd4\u56de\u68c0\u67e5\u7ed3\u679c\uff0c\u5e76\u4e14\u4f1a\u5305\u542b relable \u7684\u5185\u5bb9\u3002"),(0,r.kt)("p",null,"\u5b9e\u9a8c\u7ed3\u679c\u5982\u4e0b\uff0c\u8fd9\u547d\u4ee4\u8fd4\u56de\u4e86\u6240\u6709\u80fd\u53d1\u73b0\u7684\u4fe1\u606f\uff0c\u5373\u4f7f job \u91cc\u914d\u7f6e\u4e86\u53ea\u8981\u53d1\u73b0\u7279\u5b9a\u540d\u79f0\u7684 pod \u5373\u53ef\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[root@Erdong-Test ~]# ./promtool check service-discovery /erdong/prometheus-pushgateway/conf/prometheus.yml pushgateway-k8s \n[\n  {\n\n    ......\n\n    "discoveredLabels": {\n      "__address__": "172.31.91.38:9091",\n      "__meta_kubernetes_namespace": "appops",\n      "__meta_kubernetes_pod_annotation_cattle_io_timestamp": "2022-07-22T09:40:36Z",\n      "__meta_kubernetes_pod_annotation_cni_projectcalico_org_podIP": "172.31.91.38/32",\n      "__meta_kubernetes_pod_annotation_field_cattle_io_ports": "[[{\\"containerPort\\":9091,\\"dnsName\\":\\"pushgateway-nodeport\\",\\"hostPort\\":0,\\"kind\\":\\"NodePort\\",\\"name\\":\\"pushgateway\\",\\"protocol\\":\\"TCP\\",\\"sourcePort\\":9091}]]",\n      "__meta_kubernetes_pod_annotationpresent_cattle_io_timestamp": "true",\n      "__meta_kubernetes_pod_annotationpresent_cni_projectcalico_org_podIP": "true",\n      "__meta_kubernetes_pod_annotationpresent_field_cattle_io_ports": "true",\n      "__meta_kubernetes_pod_container_init": "false",\n      "__meta_kubernetes_pod_container_name": "pushgateway",\n      "__meta_kubernetes_pod_container_port_name": "pushgateway",\n      "__meta_kubernetes_pod_container_port_number": "9091",\n      "__meta_kubernetes_pod_container_port_protocol": "TCP",\n      "__meta_kubernetes_pod_controller_kind": "ReplicaSet",\n      "__meta_kubernetes_pod_controller_name": "pushgateway-6d695f75cf",\n      "__meta_kubernetes_pod_host_ip": "172.30.7.229",\n      "__meta_kubernetes_pod_ip": "172.31.91.38",\n      "__meta_kubernetes_pod_label_pod_template_hash": "6d695f75cf",\n      "__meta_kubernetes_pod_label_workload_user_cattle_io_workloadselector": "pushgateway",\n      "__meta_kubernetes_pod_labelpresent_pod_template_hash": "true",\n      "__meta_kubernetes_pod_labelpresent_workload_user_cattle_io_workloadselector": "true",\n      "__meta_kubernetes_pod_name": "pushgateway-flink-6d695f75cf-9jgdk",\n      "__meta_kubernetes_pod_node_name": "erdong-test-7-229",\n      "__meta_kubernetes_pod_phase": "Running",\n      "__meta_kubernetes_pod_ready": "true",\n      "__meta_kubernetes_pod_uid": "7b9662d8-1831-4440-9bc5-9523dbda0c12",\n      "__metrics_path__": "/metrics",\n      "__scheme__": "http",\n      "__scrape_interval__": "20s",\n      "__scrape_timeout__": "10s",\n      "job": "pushgateway-k8s"\n    },\n\n    ......\n    "labels": {}\n  }\n]    \n')),(0,r.kt)("h2",{id:"\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6"},"\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("p",null,"\u4f7f\u7528 Promtool \u53ef\u4ee5\u68c0\u67e5 Prometheus \u7684\u542f\u52a8\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e\u3002\u53c2\u6570\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"promtool check config [<flags>] <config-files>...\n")),(0,r.kt)("p",null,"\u6211\u4eec\u6267\u884c\u547d\u4ee4\u6765\u770b\u4e00\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[root@Erdong-Test ~]# ./promtool check config /erdong/prometheus-pushgateway/conf/prometheus.yml\nChecking /erdong/prometheus-pushgateway/conf/prometheus.yml\n SUCCESS: /erdong/prometheus-pushgateway/conf/prometheus.yml is valid prometheus config file syntax\n")),(0,r.kt)("p",null,"\u770b\u5230 SUCCESS \u5c31\u8868\u793a\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u662f\u6b63\u5e38\u53ef\u4ee5\u4f7f\u7528\u7684\uff0c\u5982\u679c\u51fa\u73b0\u9519\u8bef\u4f1a\u8fdb\u884c\u63d0\u793a\u3002"),(0,r.kt)("h2",{id:"\u68c0\u67e5-web-config"},"\u68c0\u67e5 web-config"),(0,r.kt)("p",null,"\u4f7f\u7528 Promtool \u53ef\u4ee5\u68c0\u67e5 web-config \u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"promtool  check web-config <web-config-files>...\n")),(0,r.kt)("h2",{id:"\u68c0\u67e5\u544a\u8b66\u89c4\u5219\u548c\u8bb0\u5f55\u89c4\u5219"},"\u68c0\u67e5\u544a\u8b66\u89c4\u5219\u548c\u8bb0\u5f55\u89c4\u5219"),(0,r.kt)("p",null,"\u4f7f\u7528 Promtool \u53ef\u4ee5\u68c0\u67e5\u544a\u8b66\u89c4\u5219\u548c\u8bb0\u5f55\u89c4\u5219\u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[root@Erdong-Test ~]# ./promtool  check rules [<flags>] <rule-files>...\n")),(0,r.kt)("p",null,"\u5982\u679c\u6587\u4ef6\u6b63\u5e38\u4f1a\u8f93\u51fa SUCCESS \u7684\u63d0\u793a\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u6b63\u5e38\u4f1a\u8f93\u51fa\u5bf9\u5e94\u7684\u63d0\u793a\u3002"),(0,r.kt)("h2",{id:"\u68c0\u67e5\u6307\u6807"},"\u68c0\u67e5\u6307\u6807"),(0,r.kt)("p",null,"\u4f7f\u7528 Promtool \u53ef\u4ee5\u68c0\u67e5\u6307\u6807\uff0c\u547d\u4ee4\u53c2\u6570\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"promtool  check metrics\n\n")),(0,r.kt)("p",null,"\u4f7f\u7528\u65b9\u5f0f\u53ef\u4ee5\u662f\u4ee5\u4e0b\u4e24\u79cd\u4e2d\u7684\u4efb\u610f\u4e00\u79cd\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[root@Erdong-Test ~]#  cat metrics.prom | promtool check metrics\n\n[root@Erdong-Test ~]#  curl -s http://localhost:9090/metrics | promtool check metrics\n")),(0,r.kt)("p",null,"\u6267\u884c\u7ed3\u679c\u5982\u4e0b\u6240\u793a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[root@Erdong-Test ~]# curl 127.0.0.1:9101/metrics | ./promtool check metrics\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 2912k    0 2912k    0     0  7194k      0 --:--:-- --:--:-- --:--:-- 7208k\ncadvisor_version_info label names should be written in 'snake_case' not 'camelCase'\ncadvisor_version_info label names should be written in 'snake_case' not 'camelCase'\ncadvisor_version_info label names should be written in 'snake_case' not 'camelCase'\ncadvisor_version_info label names should be written in 'snake_case' not 'camelCase'\ncadvisor_version_info label names should be written in 'snake_case' not 'camelCase'\ncontainer_fs_inodes_total non-counter metrics should not have \"_total\" suffix\ncontainer_memory_failcnt counter metrics should have \"_total\" suffix\n")),(0,r.kt)("h1",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,r.kt)("p",null,"\u4e0a\u8fb9\u5c31\u662f Promtool \u63d0\u4f9b\u7684\u6240\u6709\u7684\u68c0\u67e5\u529f\u80fd\uff0c\u660e\u5929\u6211\u4eec\u6765\u770b Promtool \u7684\u5176\u4ed6\u529f\u80fd\u3002"))}u.isMDXComponent=!0}}]);